<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Tasks</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
  </head>
  <body>
    <div class="ui container">
    <h1>Hi {{ name }}</h1>
      <form class="ui form" action="/add" method='post'>
        <div>
        <label for="name">Name</label>
        <input type="text" name="name" placeholder="Name the task"></input>
        <!-- <label for="due">Due:</label>
        <input type="date" name="due"> -->
        <button class="ui blue button" type="submit">Add</button>
        </div>
      </form>

      {% if open_tasks %}
        <h2>Open tasks:</h2>
        {% for task in open_tasks %}
        <div class="ui segment">
          <p>
          No. {{ task.id }} <h3>{{ task.name }}</h3>
          <a class="ui blue button" href='/done/{{ task.id }}'>Mark done</a>
          Due: {% if task.due == True %} <span class="ui yellow label">due XX-XX</span> {% else %} <span class="ui gray label">no due date</span> {% endif %}
          <a class="ui red button"href='/delete/{{ task.id }}'>Delete</a>
          </p>
        </div>
        {% endfor %}
      {% else %}
      <h2>Good Job! You have no open tasks.</h2>
      {% endif %}

      {% if done_tasks %}
        <h2>Done tasks:</h2>
        {% for task in done_tasks %}
        <div class="ui segment">
          <p>
          No. {{ task.id }} <h3>{{ task.name }}</h3>
          <a class="ui blue button" href='/undone/{{ task.id }}'>Mark undone</a>
          Due: {% if task.due == True %} <span class="ui yellow label">due XX-XX</span> {% else %} <span class="ui gray label">no due date</span> {% endif %}
          <a class="ui red button"href='/delete/{{ task.id }}'>Delete</a>
          </p>
        </div>
        {% endfor %}
      {% else %}
      <h2>There are no done tasks.</h2>
      {% endif %}

    </div>
  </body>
</html>
